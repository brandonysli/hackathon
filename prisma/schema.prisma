// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               String          @id @default(uuid()) @db.Uuid
  name             String
  email            String          @unique
  specializationId String?         @db.Uuid
  specialization   Specialization? @relation(fields: [specializationId], references: [id])
  position         String
  phone            String?
  posts            Post[]
  bookmarkedPosts  BookmarkedPost[]
}

model Post {
  id            String    @id @default(uuid()) @db.Uuid
  createdAt     DateTime  @db.Timestamptz()
  description   String
  title         String
  rating        Int?
  comments      Comment[]
  reviewingUser User?     @relation(fields: [userId], references: [id])
  userId        String?   @db.Uuid
  illness       String
  urgency       Int
  pet           Pet?      @relation(fields: [petId], references: [id])
  petId         String?   @db.Uuid
  bookmarkPosts    BookmarkedPost[]
}

model Comment {
  id          String  @id @default(uuid()) @db.Uuid
  description String
  Post        Post?   @relation(fields: [postId], references: [id])
  postId      String? @db.Uuid
}

model Specialization {
  id       String  @id @default(uuid()) @db.Uuid
  name     String
  users    User[]
  color    String
}

model Pet{
    id       String  @id @default(uuid()) @db.Uuid
    name     String
    posts    Post[]
    emoji    String
}

model BookmarkedPost {
  id      String    @id @default(uuid()) @db.Uuid
  userId  String?   @db.Uuid
  user    User[]
  postId  String
  posts   Post? @relation(fields: [postId], references: [id])
  
}
